{"ast":null,"code":"var _jsxFileName = \"G:\\\\TheHeadStarter\\\\react-resume-dashboard\\\\src\\\\components\\\\upload2Firebase.js\",\n    _s = $RefreshSig$();\n\nimport { storage } from \"./config/firebaseConfig.js\";\nimport { ref, uploadBytesResumable } from \"firebase/storage\";\nimport React, { useState, useCallback } from \"react\";\nimport { toast } from 'react-toastify';\nimport { useDropzone } from \"react-dropzone\";\nimport UploadPrompt from \"./UploadPrompt.js\";\nimport { closeIcon } from \"../images/imageindex\";\nimport FirebaseDB from \"./databaseUpload.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Upload2firebase(_ref) {\n  _s();\n\n  let {\n    closeModal\n  } = _ref;\n  const [file, setFile] = useState(\"\");\n\n  const handleUpload = () => {\n    if (!file) {\n      alert(\"Please upload an file first!\");\n      return;\n    }\n\n    toast.success(\"Upload Success!\"); // Receives the storage reference and the file to upload.\n    // Only uploads one file currently\n\n    const storageRef = ref(storage, `/resumes/${file[0].name}`);\n    const uploadTask = uploadBytesResumable(storageRef, file[0]);\n    setFile(\"\");\n  }; // when file is selected, set file state to that of the selected files\n\n\n  const onDropAccepted = useCallback(acceptedFiles => {\n    setFile(acceptedFiles);\n  });\n  const {\n    getRootProps,\n    getInputProps,\n    acceptedFiles\n  } = useDropzone({\n    onDropAccepted\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", { ...getRootProps({\n        className: \"dropzone\"\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input-zone\",\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UploadPrompt, {\n        file: file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      className: \"uploadSubmitBtn\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"uploadCloseBtn\",\n      onClick: closeModal,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: closeIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 69\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Upload2firebase, \"NQr7+7AXQ6ScRUMCnhg0iqJIOWc=\", false, function () {\n  return [useDropzone];\n});\n\n_c = Upload2firebase;\nexport default Upload2firebase;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload2firebase\");","map":{"version":3,"names":["storage","ref","uploadBytesResumable","React","useState","useCallback","toast","useDropzone","UploadPrompt","closeIcon","FirebaseDB","Upload2firebase","closeModal","file","setFile","handleUpload","alert","success","storageRef","name","uploadTask","onDropAccepted","acceptedFiles","getRootProps","getInputProps","className"],"sources":["G:/TheHeadStarter/react-resume-dashboard/src/components/upload2Firebase.js"],"sourcesContent":["import { storage } from \"./config/firebaseConfig.js\";\r\nimport { ref, uploadBytesResumable } from \"firebase/storage\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport UploadPrompt from \"./UploadPrompt.js\"\r\nimport { closeIcon } from \"../images/imageindex\"\r\nimport FirebaseDB from \"./databaseUpload.js\";\r\n\r\nfunction Upload2firebase({ closeModal }) {\r\n    const [file, setFile] = useState(\"\")\r\n\r\n    const handleUpload = () => {\r\n        if (!file) {\r\n            alert(\"Please upload an file first!\")\r\n            return\r\n        }\r\n        toast.success(\"Upload Success!\")\r\n\r\n        // Receives the storage reference and the file to upload.\r\n        // Only uploads one file currently\r\n        const storageRef = ref(storage, `/resumes/${file[0].name}`)\r\n        const uploadTask = uploadBytesResumable(storageRef, file[0])\r\n\r\n        setFile(\"\")\r\n    }\r\n\r\n    // when file is selected, set file state to that of the selected files\r\n    const onDropAccepted = useCallback((acceptedFiles) => {\r\n        setFile(acceptedFiles)\r\n    })\r\n\r\n    const { getRootProps, getInputProps, acceptedFiles } = useDropzone({ onDropAccepted })\r\n\r\n    return (\r\n        <div>\r\n            {/* dropzone component used for drag and drop files, acceptedFiles is [] of selected files */}\r\n            <div {...getRootProps({ className: \"dropzone\" })}>\r\n                <input className=\"input-zone\" {...getInputProps()} />\r\n                <UploadPrompt file={file} />\r\n            </div>\r\n        \r\n            \r\n\r\n            <button onClick={handleUpload} className=\"uploadSubmitBtn\">Submit</button>\r\n            <button className=\"uploadCloseBtn\" onClick={closeModal}><img src={closeIcon}></img></button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Upload2firebase;"],"mappings":";;;AAAA,SAASA,OAAT,QAAwB,4BAAxB;AACA,SAASC,GAAT,EAAcC,oBAAd,QAA0C,kBAA1C;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;;AAEA,SAASC,eAAT,OAAyC;EAAA;;EAAA,IAAhB;IAAEC;EAAF,CAAgB;EACrC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;;EAEA,MAAMW,YAAY,GAAG,MAAM;IACvB,IAAI,CAACF,IAAL,EAAW;MACPG,KAAK,CAAC,8BAAD,CAAL;MACA;IACH;;IACDV,KAAK,CAACW,OAAN,CAAc,iBAAd,EALuB,CAOvB;IACA;;IACA,MAAMC,UAAU,GAAGjB,GAAG,CAACD,OAAD,EAAW,YAAWa,IAAI,CAAC,CAAD,CAAJ,CAAQM,IAAK,EAAnC,CAAtB;IACA,MAAMC,UAAU,GAAGlB,oBAAoB,CAACgB,UAAD,EAAaL,IAAI,CAAC,CAAD,CAAjB,CAAvC;IAEAC,OAAO,CAAC,EAAD,CAAP;EACH,CAbD,CAHqC,CAkBrC;;;EACA,MAAMO,cAAc,GAAGhB,WAAW,CAAEiB,aAAD,IAAmB;IAClDR,OAAO,CAACQ,aAAD,CAAP;EACH,CAFiC,CAAlC;EAIA,MAAM;IAAEC,YAAF;IAAgBC,aAAhB;IAA+BF;EAA/B,IAAiDf,WAAW,CAAC;IAAEc;EAAF,CAAD,CAAlE;EAEA,oBACI;IAAA,wBAEI,oBAASE,YAAY,CAAC;QAAEE,SAAS,EAAE;MAAb,CAAD,CAArB;MAAA,wBACI;QAAO,SAAS,EAAC,YAAjB;QAAA,GAAkCD,aAAa;MAA/C;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,YAAD;QAAc,IAAI,EAAEX;MAApB;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eASI;MAAQ,OAAO,EAAEE,YAAjB;MAA+B,SAAS,EAAC,iBAAzC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QATJ,eAUI;MAAQ,SAAS,EAAC,gBAAlB;MAAmC,OAAO,EAAEH,UAA5C;MAAA,uBAAwD;QAAK,GAAG,EAAEH;MAAV;QAAA;QAAA;QAAA;MAAA;IAAxD;MAAA;MAAA;MAAA;IAAA,QAVJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAcH;;GAvCQE,e;UAuBkDJ,W;;;KAvBlDI,e;AAyCT,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}